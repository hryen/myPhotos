import{M as p}from"./MediaList.701ec18b.js";import{u as f,r as s,o as m,a as v,c as M,b as g}from"./index.896fd6d8.js";const Y={__name:"Photos",setup(_){const i=f(),l=s(1),r=s(30),t=s(!1),a=s({});function u(){t.value=!0,g.get(i.settings.serverAddress+"/api/medias",{params:{page:l.value,page_size:r.value}}).then(function(e){e.data.data.forEach(o=>{const n=i.dayjs(o.DateTime).format("YYYY\u5E74M\u6708D\u65E5 dddd");if(a.value[n])a.value[n].push(o);else{const c=[];c.push(o),a.value[n]=c}})}).catch(function(e){console.log(e)}).then(function(){t.value=!1})}function d(){l.value++,u()}return m(()=>{u()}),(e,o)=>(v(),M(p,{loading:t.value,mediaListMap:a.value,onLoadMore:d},null,8,["loading","mediaListMap"]))}};export{Y as default};
